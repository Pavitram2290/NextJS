(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8581:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return c(6973)}])},7031:function(a,b,c){"use strict";c.d(b,{u:function(){return h},db:function(){return j},d:function(){return k}});var d=c(5503),e=c(6257),f=c(5276),g={apiKey:"AIzaSyAyjsXuQzG2XJsbIuF6uWe9eWKzRfEtHmM",authDomain:"yasa-f94a6.firebaseapp.com",projectId:"yasa-f94a6",storageBucket:"yasa-f94a6.appspot.com",messagingSenderId:"709673327432",appId:"1:709673327432:web:60e0343a5f99b449a0b17d",measurementId:"G-MCJLSLZXHS"};function h(){(0,d.ZF)(g),console.log("Firebase has been init successfully")}var i=(0,d.ZF)(g),j=(0,e.ad)(i),k=(0,f.N8)(i)},8356:function(a,b,c){"use strict";c.d(b,{J:function(){return d}});var d=function(a){var b=a.uid,c=a.email,d=a.xa,e=a.displayName,f=a.photoUrl;return{id:b,email:c,token:d,name:e,profilePic:f}}},2593:function(a,b,c){"use strict";c.d(b,{Zl:function(){return f},rk:function(){return g},gq:function(){return h}});var d=c(6808),e=c.n(d),f=function(){var a=e().get("auth");if(a)return JSON.parse(a)},g=function(a){e().set("auth",a,{expires:1/24})},h=function(){return e().remove("auth")}},6973:function(a,b,c){"use strict";c.r(b),c.d(b,{"default":function(){return F}});var d=c(5893),e=c(9008),f=c(7852),g=c.n(f),h=c(5666),i=c.n(h),j=c(7031),k=c(6257),l=c(7294),m=c(1163),n=c(7702),o=c(2593),p=c(8356);function q(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}(0,j.u)();var r=function(){var a=(0,l.useState)(),b=a[0],c=a[1],d=(0,m.useRouter)(),e=(0,n.v0)(),f=function(a){return function(){var b=this,c=arguments;return new Promise(function(d,e){var f=a.apply(b,c);function g(a){q(f,d,e,g,h,"next",a)}function h(a){q(f,d,e,g,h,"throw",a)}g(void 0)})}}(i().mark(function a(){return i().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,e.signOut();case 3:(0,o.gq)(),d.push("/auth"),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),console.log(a.t0.message);case 10:case"end":return a.stop()}},a,null,[[0,7]])}));return(0,l.useEffect)(function(){var a=e.onIdTokenChanged(function(a){if(a){var b=(0,p.J)(a);(0,o.rk)(b),c(b)}else(0,o.gq)(),c()}),b=(0,o.Zl)();if(!b){d.push("/");return}return c(b),function(){a()}},[]),{user:b,logout:f}},s=c(1532);function t(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}var u=function(){var a=r().user,b=function(a){return function(){var b=this,c=arguments;return new Promise(function(d,e){var f=a.apply(b,c);function g(a){t(f,d,e,g,h,"next",a)}function h(a){t(f,d,e,g,h,"throw",a)}g(void 0)})}}(i().mark(function b(){var c;return i().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.prev=0,c=(0,k.JU)(j.db,"myCollection",a.id),b.next=4,(0,k.pl)(c,{string_data:"Benjamin Carlson",number_data:2,boolean_data:!0,map_data:{stringInMap:"Hi",numberInMap:7},array_data:["text",4],null_data:null,time_stamp:k.EK.fromDate(new Date("December 17, 1995 03:24:00")),geo_point:new k.F8(34.714322,-131.468435)});case 4:alert("Data was successfully sent to cloud firestore!"),b.next=11;break;case 7:b.prev=7,b.t0=b.catch(0),console.log(b.t0),alert(b.t0);case 11:case"end":return b.stop()}},b,null,[[0,7]])}));return(0,d.jsx)("div",{style:{margin:"5px 0"},children:(0,d.jsx)(s.Z,{onClick:b,style:{width:"100%"},children:"Send Data To Cloud Firestore"})})};function v(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}var w=function(){var a=r().user,b=function(a){return function(){var b=this,c=arguments;return new Promise(function(d,e){var f=a.apply(b,c);function g(a){v(f,d,e,g,h,"next",a)}function h(a){v(f,d,e,g,h,"throw",a)}g(void 0)})}}(i().mark(function b(){var c;return i().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.prev=0,c=(0,k.JU)(j.db,"myCollection",a.id),b.next=4,(0,k.QT)(c).then(function(a){a.exists()&&console.log(a.data())});case 4:alert("Data was successfully fetched from cloud firestore! Close this alert and check console for output."),b.next=11;break;case 7:b.prev=7,b.t0=b.catch(0),console.log(b.t0),alert(b.t0);case 11:case"end":return b.stop()}},b,null,[[0,7]])}));return(0,d.jsx)("div",{style:{margin:"5px 0"},children:(0,d.jsx)(s.Z,{onClick:b,style:{width:"100%"},children:"Read Data From Cloud Firestore"})})},x=c(4642);function y(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function z(a){return function(){var b=this,c=arguments;return new Promise(function(d,e){var f=a.apply(b,c);function g(a){y(f,d,e,g,h,"next",a)}function h(a){y(f,d,e,g,h,"throw",a)}g(void 0)})}}var A=function(a){var b=a.id,c=(0,l.useState)(""),e=c[0],f=c[1];(0,l.useEffect)(function(){var a=function(a){return f(a.val())};return z(i().mark(function c(){var d;return i().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:d=(0,x.iH)(j.d,"counts/"+b),(0,x.jM)(d,a);case 2:case"end":return c.stop()}},c)}))(),function(){var c=(0,x.iH)(j.d,"counts/"+b);(0,x.S1)(c,"value",a)}},[b]);var g=z(i().mark(function a(){var c;return i().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:(c=function(){return fetch("/api/incrementCount?id=".concat(encodeURIComponent(b)))})();case 2:case"end":return a.stop()}},a)}));return(0,d.jsxs)("div",{style:{margin:"5px 0"},children:[(0,d.jsx)(s.Z,{onClick:g,style:{width:"100%"},children:"Increase count"}),(0,d.jsx)("h5",{style:{textAlign:"center",marginTop:"5px"},children:e||"0"})]})},B=c(1153),C=(0,B.cF)(),D=function(){var a=(0,l.useRef)(null),b=(0,l.useState)(0),c=b[0],e=b[1];return(0,d.jsxs)("div",{style:{margin:"5px 0"},children:[(0,d.jsx)("progress",{value:c,max:"100",style:{width:"100%"}}),(0,d.jsx)("br",{}),(0,d.jsx)("input",{type:"file",onChange:function(){var b=a.current.files[0],c=(0,B.iH)(C,"user_uploads"+b.name),d=(0,B.B0)(c,b);d.on("state_change",function(a){e(a.bytesTransferred/a.totalBytes*100)},function a(b){alert(a)},function(){alert("Uploaded to firebase storage successfully!")})},ref:a})]})},E=c(701);function F(){var a=r(),b=a.user,c=a.logout;return b?(0,d.jsx)("div",{className:g().container,children:(0,d.jsx)(E.Z,{children:(0,d.jsxs)(E.Z.Body,{children:[(0,d.jsx)(E.Z.Title,{children:b.name}),(0,d.jsx)(E.Z.Text,{children:b.email}),(0,d.jsx)("hr",{}),b.profilePic?(0,d.jsx)("image",{src:b.profilePic,height:100,width:100}):(0,d.jsx)("p",{children:"No profile pic"}),(0,d.jsx)("hr",{}),(0,d.jsx)(u,{}),(0,d.jsx)(w,{}),(0,d.jsx)("hr",{}),(0,d.jsx)(A,{id:b.id}),(0,d.jsx)("hr",{}),(0,d.jsx)(D,{}),(0,d.jsx)("hr",{}),(0,d.jsxs)("div",{style:{display:"flex",justifyContent:"space-around"},children:[(0,d.jsx)(s.Z,{onClick:function(){return c()},style:{width:"100px"},children:"Log Out"}),(0,d.jsx)("a",{href:"https://github.com/bjcarlson42/nextjs-with-firebase",target:"_blank",children:(0,d.jsx)(s.Z,{variant:"outline-secondary",style:{width:"100px"},children:"Code"})})]})]})})}):(0,d.jsxs)("div",{className:g().container,children:[(0,d.jsx)("p",{children:(0,d.jsx)("a",{href:"/auth",children:"Log In!"})}),(0,d.jsxs)(e.default,{children:[(0,d.jsx)("title",{children:"Create Next App"}),(0,d.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,d.jsxs)("main",{className:g().main,children:[(0,d.jsxs)("h1",{className:g().title,children:["Welcome to ",(0,d.jsx)("a",{href:"https://nextjs.org",children:"Next.js!"})]}),(0,d.jsxs)("p",{className:g().description,children:["Get started by editing"," ",(0,d.jsx)("code",{className:g().code,children:"pages/index.js"})]}),(0,d.jsxs)("div",{className:g().grid,children:[(0,d.jsxs)("a",{href:"https://nextjs.org/docs",className:g().card,children:[(0,d.jsx)("h3",{children:"Documentation →"}),(0,d.jsx)("p",{children:"Find in-depth information about Next.js features and API."})]}),(0,d.jsxs)("a",{href:"https://nextjs.org/learn",className:g().card,children:[(0,d.jsx)("h3",{children:"Learn →"}),(0,d.jsx)("p",{children:"Learn about Next.js in an interactive course with quizzes!"})]}),(0,d.jsxs)("a",{href:"https://github.com/vercel/next.js/tree/master/examples",className:g().card,children:[(0,d.jsx)("h3",{children:"Examples →"}),(0,d.jsx)("p",{children:"Discover and deploy boilerplate example Next.js projects."})]}),(0,d.jsxs)("a",{href:"https://vercel.com/new?utm_source=create-next-app&utm_medium=default-template&utm_campaign=create-next-app",className:g().card,children:[(0,d.jsx)("h3",{children:"Deploy →"}),(0,d.jsx)("p",{children:"Instantly deploy your Next.js site to a public URL with Vercel."})]})]})]}),(0,d.jsx)("footer",{className:g().footer,children:(0,d.jsxs)("a",{href:"https://vercel.com?utm_source=create-next-app&utm_medium=default-template&utm_campaign=create-next-app",target:"_blank",rel:"noopener noreferrer",children:["Powered by"," ",(0,d.jsx)("img",{src:"/vercel.svg",alt:"Vercel Logo",className:g().logo})]})})]})}},7852:function(a){a.exports={container:"Home_container__1EcsU",main:"Home_main__1x8gC",footer:"Home_footer__1WdhD",title:"Home_title__3DjR7",description:"Home_description__17Z4F",code:"Home_code__axx2Y",grid:"Home_grid__2Ei2F",card:"Home_card__2SdtB",logo:"Home_logo__1YbrH"}}},function(a){a.O(0,[16,627,428,793,188,774,888,179],function(){return a(a.s=8581)}),_N_E=a.O()}])